(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1245:function(e,s,t){Promise.resolve().then(t.bind(t,3331))},3331:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return _}});var r=t(7437),l=t(1713),a=t(8906),i=t(3639),d=t(4401),c=t(5252),n=t(1239),o=t(525),x=t(6137),m=t(1994);let h={blue:"bg-blue-100 text-blue-600",red:"bg-red-100 text-red-600",green:"bg-green-100 text-green-600",yellow:"bg-yellow-100 text-yellow-600"};function g(e){let{title:s,value:t,change:l,icon:a,color:i}=e;return(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:s}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:t}),l&&(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:l})]}),(0,r.jsx)("div",{className:(0,m.Z)("p-3 rounded-lg",h[i]),children:(0,r.jsx)(a,{className:"h-6 w-6"})})]})})}var u=t(7625),y=t(1156),j=t(6940),b=t(7059),v=t(2994),p=t(8147),N=t(2190),f=t(4061);async function w(){let e=await fetch("".concat("http://localhost:8787/api","/metrics/timeseries?metric=requests.total&limit=50"));if(!e.ok)throw Error("Failed to fetch requests history");return e.json()}function q(){let{data:e,isLoading:s}=(0,l.a)({queryKey:["requests-history"],queryFn:w,refetchInterval:1e4});if(s)return(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),(0,r.jsx)("div",{className:"h-64 bg-gray-100 rounded"})]})});let t=(null==e?void 0:e.map(e=>({time:new Date(e.timestamp).toLocaleTimeString(),requests:e.value||0})))||[];return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,r.jsx)(d.Z,{className:"h-5 w-5 mr-2 text-primary-600"}),"Request Volume"]}),(0,r.jsx)(u.h,{width:"100%",height:300,children:(0,r.jsxs)(y.w,{data:t,children:[(0,r.jsx)(j.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,r.jsx)(b.K,{dataKey:"time",stroke:"#6b7280",style:{fontSize:"12px"}}),(0,r.jsx)(v.B,{stroke:"#6b7280",style:{fontSize:"12px"}}),(0,r.jsx)(p.u,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),(0,r.jsx)(N.D,{}),(0,r.jsx)(f.x,{type:"monotone",dataKey:"requests",stroke:"#0ea5e9",strokeWidth:2,dot:!1,name:"Total Requests"})]})})]})}var Z=t(7031),k=t(3046);async function F(){let e=await fetch("".concat("http://localhost:8787/api","/metrics/current"));if(!e.ok)throw Error("Failed to fetch security metrics");return e.json()}function S(){var e,s,t,i;let{data:d,isLoading:c}=(0,l.a)({queryKey:["security-metrics"],queryFn:F,refetchInterval:1e4});if(c)return(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),(0,r.jsx)("div",{className:"h-64 bg-gray-100 rounded"})]})});let n=[{name:"PII Findings",count:(null==d?void 0:null===(e=d.security)||void 0===e?void 0:e.piiFindings)||0},{name:"Injection Attempts",count:(null==d?void 0:null===(s=d.security)||void 0===s?void 0:s.injectionAttempts)||0},{name:"Anomalies",count:(null==d?void 0:null===(t=d.security)||void 0===t?void 0:t.anomalies)||0},{name:"Critical Alerts",count:(null==d?void 0:null===(i=d.security)||void 0===i?void 0:i.criticalAlerts)||0}];return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,r.jsx)(a.Z,{className:"h-5 w-5 mr-2 text-red-600"}),"Security Threats"]}),(0,r.jsx)(u.h,{width:"100%",height:300,children:(0,r.jsxs)(Z.v,{data:n,children:[(0,r.jsx)(j.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,r.jsx)(b.K,{dataKey:"name",stroke:"#6b7280",style:{fontSize:"12px"}}),(0,r.jsx)(v.B,{stroke:"#6b7280",style:{fontSize:"12px"}}),(0,r.jsx)(p.u,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),(0,r.jsx)(N.D,{}),(0,r.jsx)(k.$,{dataKey:"count",fill:"#ef4444",name:"Threats Detected",radius:[8,8,0,0]})]})})]})}var R=t(3245),A=t(2252),L=t(5131);let E={info:{icon:R.Z,color:"text-blue-600",bg:"bg-blue-50",border:"border-blue-200"},warning:{icon:i.Z,color:"text-yellow-600",bg:"bg-yellow-50",border:"border-yellow-200"},error:{icon:A.Z,color:"text-orange-600",bg:"bg-orange-50",border:"border-orange-200"},critical:{icon:L.Z,color:"text-red-600",bg:"bg-red-50",border:"border-red-200"}};function P(e){let{alerts:s,loading:t}=e;return t?(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),(0,r.jsx)("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,r.jsx)("div",{className:"h-20 bg-gray-100 rounded"},e))})]})}):(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(i.Z,{className:"h-5 w-5 mr-2 text-yellow-600"}),"Recent Alerts"]}),(0,r.jsxs)("span",{className:"text-sm font-normal text-gray-500",children:[s.length," unacknowledged"]})]}),0===s.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(R.Z,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),(0,r.jsx)("p",{className:"text-gray-500",children:"No active alerts"}),(0,r.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"All systems operating normally"})]}):(0,r.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:s.slice(0,10).map(e=>{let s=E[e.severity],t=s.icon;return(0,r.jsx)("div",{className:(0,m.Z)("p-4 rounded-lg border",s.bg,s.border),children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)(t,{className:(0,m.Z)("h-5 w-5 flex-shrink-0 mt-0.5",s.color)}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("p",{className:(0,m.Z)("text-sm font-semibold",s.color),children:e.title}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleTimeString()})]}),(0,r.jsx)("p",{className:"text-sm text-gray-700 mt-1",children:e.message}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-white border border-gray-200 text-gray-700",children:e.category}),(0,r.jsx)("span",{className:(0,m.Z)("inline-flex items-center px-2 py-0.5 rounded text-xs font-medium uppercase",s.color,"bg-white border",s.border),children:e.severity})]})]})]})},e.id)})})]})}var C=t(5302);function I(e){let{providers:s}=e,t=Object.entries(s),l=e=>e>=.99?{icon:C.Z,color:"text-green-600"}:e>=.95?{icon:A.Z,color:"text-yellow-600"}:{icon:L.Z,color:"text-red-600"};return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,r.jsx)(x.Z,{className:"h-5 w-5 mr-2 text-primary-600"}),"Provider Status"]}),0===t.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(x.Z,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),(0,r.jsx)("p",{className:"text-gray-500",children:"No provider data available"})]}):(0,r.jsx)("div",{className:"space-y-4",children:t.map(e=>{let[s,t]=e,{icon:a,color:i}=l(t.availability),d=t.requests>0?t.errors/t.requests*100:0;return(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(a,{className:(0,m.Z)("h-5 w-5",i)}),(0,r.jsx)("h3",{className:"font-semibold text-gray-900 capitalize",children:s})]}),(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:[(100*t.availability).toFixed(2),"% uptime"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Requests"}),(0,r.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:t.requests.toLocaleString()})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Avg Latency"}),(0,r.jsxs)("p",{className:"text-lg font-semibold text-gray-900",children:[t.avgLatency.toFixed(0),"ms"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Error Rate"}),(0,r.jsxs)("p",{className:(0,m.Z)("text-lg font-semibold",d>5?"text-red-600":"text-gray-900"),children:[d.toFixed(2),"%"]})]})]}),(0,r.jsx)("div",{className:"mt-3",children:(0,r.jsx)("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:(0,m.Z)("h-full transition-all duration-300",t.availability>=.99?"bg-green-500":t.availability>=.95?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(100*t.availability,"%")}})})})]},s)})})]})}let K="http://localhost:8787/api";async function T(){let e=await fetch("".concat(K,"/metrics/current"));if(!e.ok)throw Error("Failed to fetch metrics");return e.json()}async function D(){let e=await fetch("".concat(K,"/alerts?acknowledged=false"));if(!e.ok)throw Error("Failed to fetch alerts");return e.json()}async function M(){let e=await fetch("".concat(K,"/system/status"));if(!e.ok)throw Error("Failed to fetch system status");return e.json()}function _(){var e,s,t,m,h,u,y,j,b,v,p,N,f;let{data:w,isLoading:Z}=(0,l.a)({queryKey:["metrics"],queryFn:T,refetchInterval:5e3}),{data:k,isLoading:F}=(0,l.a)({queryKey:["alerts"],queryFn:D,refetchInterval:1e4}),{data:R}=(0,l.a)({queryKey:["system"],queryFn:M,refetchInterval:3e4});if(Z)return(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})});let A=(null==k?void 0:k.filter(e=>"critical"===e.severity).length)||0;return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(a.Z,{className:"h-8 w-8 text-primary-600"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Proxilion"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Enterprise AI Security Proxy"})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Uptime"}),(0,r.jsxs)("p",{className:"text-lg font-semibold text-gray-900",children:[R?Math.floor(R.uptime/3600):0,"h"]})]}),(0,r.jsx)("div",{className:"h-10 w-px bg-gray-300"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"h-3 w-3 bg-green-500 rounded-full animate-pulse"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Online"})]})]})]})})}),(0,r.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[A>0&&(0,r.jsx)("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4 rounded-r-lg",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(i.Z,{className:"h-5 w-5 text-red-500 mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-sm font-medium text-red-800",children:[A," Critical Alert",A>1?"s":""]}),(0,r.jsx)("p",{className:"text-sm text-red-700 mt-1",children:"Immediate attention required. Check alerts below."})]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,r.jsx)(g,{title:"Total Requests",value:(null==w?void 0:null===(e=w.requests)||void 0===e?void 0:e.total)||0,change:"".concat((null==w?void 0:null===(s=w.requests)||void 0===s?void 0:s.ratePerSecond)||0,"/s"),icon:d.Z,color:"blue"}),(0,r.jsx)(g,{title:"Threats Blocked",value:(null==w?void 0:null===(t=w.security)||void 0===t?void 0:t.threatsDetected)||0,change:"".concat((null==w?void 0:null===(m=w.security)||void 0===m?void 0:m.criticalAlerts)||0," critical"),icon:a.Z,color:"red"}),(0,r.jsx)(g,{title:"Total Cost",value:"$".concat(((null==w?void 0:null===(h=w.cost)||void 0===h?void 0:h.totalSpent)||0).toFixed(2)),change:"$".concat(((null==w?void 0:null===(u=w.cost)||void 0===u?void 0:u.avgCostPerRequest)||0).toFixed(4),"/req"),icon:c.Z,color:"green"}),(0,r.jsx)(g,{title:"Avg Latency",value:"".concat((null==w?void 0:null===(y=w.performance)||void 0===y?void 0:y.avgLatency)||0,"ms"),change:"P95: ".concat((null==w?void 0:null===(j=w.performance)||void 0===j?void 0:j.p95Latency)||0,"ms"),icon:n.Z,color:"yellow"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,r.jsx)(q,{}),(0,r.jsx)(S,{})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsx)(I,{providers:(null==w?void 0:w.providers)||{}}),(0,r.jsx)(P,{alerts:k||[],loading:F})]}),(0,r.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,r.jsx)(o.Z,{className:"h-5 w-5 mr-2 text-primary-600"}),"Performance Metrics"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Cache Hit Rate"}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:[(100*((null==w?void 0:null===(b=w.performance)||void 0===b?void 0:b.cacheHitRate)||0)).toFixed(1),"%"]})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Error Rate"}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:[(100*((null==w?void 0:null===(v=w.performance)||void 0===v?void 0:v.errorRate)||0)).toFixed(2),"%"]})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Success Rate"}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:[(null==w?void 0:null===(p=w.requests)||void 0===p?void 0:p.total)>0?(w.requests.success/w.requests.total*100).toFixed(1):0,"%"]})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"P99 Latency"}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:[(null==w?void 0:null===(N=w.performance)||void 0===N?void 0:N.p99Latency)||0,"ms"]})]})]})]}),(null==w?void 0:null===(f=w.cost)||void 0===f?void 0:f.topModels)&&w.cost.topModels.length>0&&(0,r.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,r.jsx)(x.Z,{className:"h-5 w-5 mr-2 text-primary-600"}),"Top Models by Cost"]}),(0,r.jsx)("div",{className:"space-y-3",children:w.cost.topModels.slice(0,5).map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-sm font-semibold text-primary-700",children:s+1})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-gray-900",children:e.model}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:[e.count," requests"]})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"font-semibold text-gray-900",children:["$",e.cost.toFixed(2)]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["$",(e.cost/e.count).toFixed(4),"/req"]})]})]},s))})]})]}),(0,r.jsx)("footer",{className:"bg-white border-t border-gray-200 mt-12",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,r.jsx)("p",{className:"text-center text-sm text-gray-500",children:"Proxilion v1.0.0 - Enterprise AI Security Network Proxy"})})})]})}}},function(e){e.O(0,[763,257,971,117,744],function(){return e(e.s=1245)}),_N_E=e.O()}]);